<template>
	<div>
    <el-row>
		<el-form ref="elForm" :model="formData" size="medium"  label-width="120px">
        <el-col :span="12">
          <el-form-item label="项目类型" prop="proType">
            <el-select v-model="formData.proType" placeholder="请选择项目类型" style="width: 100%;">
              <el-option
                v-for="dict in proTypeNameList"
                :key="dict.id"
                :label="dict.typeName"
                :value="dict.id"
              />
            </el-select>
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="分公司名称" prop="belongCompanyName">
            <el-select 
              v-model="formData.belongCompanyName"
              placeholder="请输入分公司"
              clearable
              style="width: 100%;"
            >
              <el-option
                v-for="dict in belongCompanyNameList"
                :key="dict.deptId"
                :label="dict.deptName"
                :value="dict.deptId"
              />
            </el-select>
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="项目名称" prop="proName">
            <el-input v-model="formData.proName" placeholder="请输入项目名称" />
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="所属部门" prop="belongDeptid">
            <treeselect
              v-model="formData.belongDeptid"
              :options="deptOptions"
              :show-count="false"
              placeholder="请选择所属部门"
            />
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="合同金额" prop="contractAmountTotal">
            <el-input
              v-model="formData.contractAmountTotal"
              placeholder="请输入合同金额"
            />
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="税率" prop="taxrate">
            <el-input v-model="formData.taxrate" placeholder="请输入税率" />
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="不含税金额" prop="contractAmountTax">
            <el-input
              v-model="formData.contractAmountTax"
              placeholder="请输入不含税金额"
            />
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="税额" prop="taxamount">
            <el-input v-model="formData.taxamount" placeholder="请输入税额" />
          </el-form-item>
        </el-col>
        <el-col :span="24">
          <el-form-item label="备注信息" prop="remarks">
            <el-input
              v-model="formData.remarks"
              type="textarea"
              placeholder="请输入内容"
            />
          </el-form-item>
        </el-col>
      <el-col :span="24">
        <el-form-item label="涉及分公司" >
          <el-select v-model="formData.branchInvolvedId" multiple placeholder="请选择" :style="{width: '100%'}">
              <el-option
                v-for="item in branchInvolvedOptions"
                :key="item.value"
                :label="item.label"
                :value="item.value">
              </el-option>
          </el-select>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="项目类别">
        		<el-select v-model="formData.projectTypeId" placeholder="请选择" style="width: 100%;" >
        			<el-option v-for="(item, index) in projectTypeOptions" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>
        		</el-select>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="公司负责人">
            <el-input v-model="formData.companyCharge"></el-input>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="部门负责人">
            <el-input v-model="formData.departCharge"></el-input>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="项目负责人">
            <el-input v-model="formData.proCharge"></el-input>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="建筑物数量" :style="{width: '80%'}">
        	<el-input-number v-model="formData.buildingsNumber" :min="0" :step="1" ></el-input-number>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="涉及建筑户数" :style="{width: '80%'}">
        		<el-input-number v-model="formData.buildingsInvolvedNumber" :min="0" :step="1" ></el-input-number>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="数字TV用户数" :style="{width: '80%'}">
        	<el-input-number v-model="formData.digitalTVNumber" :min="0" :step="1" ></el-input-number>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="宽带用户数" :style="{width: '80%'}">
        		<el-input-number v-model="formData.broadbandNumber" :min="0" :step="1" ></el-input-number>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="材料预算" >
        	<el-input v-model="formData.budgetMaterial" ></el-input>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="人工预算" >
        		<el-input v-model="formData.budgetLabor"></el-input>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="预算总额" >
            <el-input v-model="formData.budgetTotal" :disabled="true"></el-input>
        </el-form-item>
      </el-col>

      <el-col :span="12">
        <el-form-item label="设计时间" >
            <el-date-picker v-model="formData.designTime" format="yyyy-MM-dd" value-format="yyyy-MM-dd"
              :style="{width: '100%'}" placeholder="请选择日期" clearable></el-date-picker>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="入场时间" >
          <el-date-picker v-model="formData.dmissionTime" format="yyyy-MM-dd" value-format="yyyy-MM-dd"
            :style="{width: '100%'}" placeholder="请选择日期" clearable></el-date-picker>
        </el-form-item>
      </el-col>
      <el-col :span="12">
        <el-form-item label="完工时间" >
          <el-date-picker v-model="formData.completionTime" format="yyyy-MM-dd" value-format="yyyy-MM-dd"
            :style="{width: '100%'}" placeholder="请选择日期" clearable></el-date-picker>
        </el-form-item>
      </el-col>
      <el-col :span="24">
        <el-form-item label="备注">
            <el-input type="textarea" v-model="formData.remark"></el-input>
        </el-form-item>
      </el-col>
		</el-form>
    </el-row>
	</div>
</template>
<script>
	export default {
		components: {},
		props: [],
		data() {
			return {
				formData: {
          branchInvolvedId:undefined,
            companyCharge:"",
            departCharge:"",
            proCharge:"",
            projectTypeId:1,
            buildingsNumber:0,
            buildingsInvolvedNumber:0,
            digitalTVNumber:0,
            broadbandNumber:0,
            budgetMaterial:0,
            budgetLabor:0,
            budgetTotal:0,
            designTime:'',

				},
        proTypeNameList:[],
        belongCompanyNameList:[],
        branchInvolvedOptions: [{
					"label": "历下区",
					"value": 1
				}, {
					"label": "市中区",
					"value": 2
				}],
				projectTypeOptions: [{
					"label": "新建项目",
					"value": 1
				}, {
					"label": "改造项目",
					"value": 2
				}],
			}
		},
    rules: {
        field102: [{
          required: true,
          message: '请选择日期选择',
          trigger: 'change'
        }],
      },
		computed: {},
		watch: {},
		created() {},
		mounted() {},
		methods: {
			submitForm() {
				this.$refs['elForm'].validate(valid => {
					if (!valid) return
					// TODO 提交表单
				})
			},
			resetForm() {
				this.$refs['elForm'].resetFields()
			},
		}
	}
</script>
